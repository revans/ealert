#!/usr/bin/env ruby -w 

require 'rubygems'
require 'ealert'

if ARGV.first.nil?
  puts "What event do you want to stream?"
else
  keywords = ARGV.first
  location = ARGV.last
  pid = fork do
    Signal.trap('HUP', 'IGNORE')
    ::EAlert::TwitterFilter.by_keywords(keywords, location, ['revans', ''])
  end
  Process.detach(pid)
  puts "Setup as a background process with PID: #{pid}."
end